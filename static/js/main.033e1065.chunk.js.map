{"version":3,"sources":["../../src/index.tsx","App.js","index.js"],"names":["GoogleAddressAutocomplete","React","constructor","props","super","ref","this","handleScriptLoad","bind","handlePlaceSelect","clearAddress","current","placeselected","undefined","autocomplete","getPlace","google","render","component","button","type","onClick","url","onLoad","place","console","clearbutton","className","App","apikey","log","ReactDOM","document","getElementById"],"mappings":"+QAqBaA,UAAkCC,YAS7CC,YAAYC,GACVC,MAAA,GATM,KAAAC,IAAMJ,sBAUZK,KAAA,iBAAwBA,KAAKC,iBAAiBC,KAA9CF,MACAA,KAAA,kBAAyBA,KAAKG,kBAAkBD,KAAhDF,MACAA,KAAA,aAAoBA,KAAKI,aAAaF,KAAtCF,MAGFI,eACE,IAAIC,EAAmCL,KAAKD,IAA5C,QACA,MAAIM,IACFA,YAGFL,KAAA,SAAc,CAACM,mBAAeC,SAC9B,GAAIP,KAAKH,MAAMS,eACbN,KAAA,4BAIJG,oBACEH,KAAA,SAAc,CAACM,cAAeN,KAAKQ,aAAaC,gBAChD,GAAIT,KAAKH,MAAMS,eACbN,KAAA,oBAAyBA,KAAKQ,aAA9B,YAIJP,mBAEED,KAAA,aAAoB,IAAIU,mBAAJ,aAClBV,KAAKD,IADa,QADpB,IAIAC,KAAA,uBAA4B,CAAC,qBAA7B,sBAEAA,KAAA,yCAA+CA,KAA/C,mBAGFW,SACE,MAAMC,EAAN,KACA,IAAIf,EAAQ,eAAIe,EAAUf,cACnBA,EAAK,qBACLA,EAAK,OACZ,IAAIgB,OAAJ,EAIA,OAHID,oBAAJ,GAA+BA,wBAC7BC,EAASD,QAATC,aAGA,wCACE,+CAAOC,KAAK,QAAWjB,GAAOE,IAAKa,EAAUb,OAD/C,OAEE,gCAAMgB,QAAS,IAAMH,kBAFvB,GAGE,6BACEI,IAAK,+CAAiDJ,QAAjD,OAA0E,oBAC/EK,OAAQjB,KAAKC,qBAzDdP,eAAe,CACpBY,cAAgBY,GAAuBC,6CADnB,GAEpBC,YAAa,kCAAQN,KAAK,UAFN,SAGpBO,UAAW,+B,MCfAC,MAPH,IACH,kBAAC,EAAD,CACLC,OAAO,0CACPjB,cAAgBY,GAAUC,QAAQK,IAAI,eAAgBN,KCF1DO,IAASd,OAAO,kBAAC,EAAD,MAASe,SAASC,eAAe,U","file":"static/js/main.033e1065.chunk.js","sourcesContent":["import * as React from 'react'\n// @ts-ignore\nimport Script from 'react-load-script'\nimport Autocomplete = google.maps.places.Autocomplete;\nimport PlaceResult = google.maps.places.PlaceResult;\n\n//import styles from './styles.module.css'\n\ntype PlaceSelected = (place?: PlaceResult) => any;\n\nexport interface Props extends React.HTMLProps<HTMLInputElement> {\n  apikey: string,\n  placeselected?: PlaceSelected\n  clearbutton: HTMLElement\n  className: string\n}\n\nexport interface State {\n  placeselected?: PlaceSelected\n}\n\nexport class GoogleAddressAutocomplete extends React.Component<Props, State> {\n  private ref = React.createRef<HTMLInputElement>()\n  private autocomplete: Autocomplete;\n  static defaultProps = {\n    placeselected: (place: PlaceResult) => console.log(\"Default placeselected function\", place),\n    clearbutton: <button type='button'>Clear</button>,\n    className: 'google-address-autocomplete'\n  }\n\n  constructor(props: Props) {\n    super(props);\n    this.handleScriptLoad = this.handleScriptLoad.bind(this);\n    this.handlePlaceSelect = this.handlePlaceSelect.bind(this);\n    this.clearAddress = this.clearAddress.bind(this);\n  }\n\n  clearAddress() {\n    let current: HTMLInputElement | null = this.ref.current;\n    if (current != null) {\n      current.value = '';\n    }\n\n    this.setState({placeselected: undefined})\n    if (this.props.placeselected != undefined) {\n      this.props.placeselected(undefined)\n    }\n  }\n\n  handlePlaceSelect() {\n    this.setState({placeselected: this.autocomplete.getPlace});\n    if (this.props.placeselected != undefined) {\n      this.props.placeselected(this.autocomplete.getPlace())\n    }\n  }\n\n  handleScriptLoad() {\n    const options = {};//{types: ['(cities)']};\n    this.autocomplete = new google.maps.places.Autocomplete(\n      this.ref.current as HTMLInputElement,\n      options);\n    this.autocomplete.setFields(['address_components',\n      'formatted_address']);\n    this.autocomplete.addListener('place_changed', this.handlePlaceSelect);\n  }\n\n  render() {\n    const component = this;\n    let props = {...component.props};\n    delete props['placeselected'];\n    delete props['apikey'];\n    let button = undefined;\n    if (component.state != null && component.state.placeselected != undefined) {\n      button = component.props.clearbutton;\n    }\n    return (\n      <React.Fragment>\n        <input type='text' {...props} ref={component.ref}/>&nbsp;\n        <span onClick={() => component.clearAddress()}>{button}</span>\n        <Script\n          url={\"https://maps.googleapis.com/maps/api/js?key=\" + component.props.apikey + \"&libraries=places\"}\n          onLoad={this.handleScriptLoad}\n        />\n      </React.Fragment>\n    )\n  }\n}\n","import React from 'react'\n\nimport {GoogleAddressAutocomplete} from 'react-google-address-autocomplete'\nimport 'react-google-address-autocomplete/dist/index.css'\n\nconst App = () => {\n  return <GoogleAddressAutocomplete\n    apikey='AIzaSyAVrlUa2e0KvXTd-Cr0aWJpp4EyUKRQv0k'\n    placeselected={(place) => console.log(\"Parent place\", place)}\n  />\n};\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}